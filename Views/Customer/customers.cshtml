@using Ecommerce.Models
@model Ecommerce.Models.Customer
<hr>
<h1>Welcome to customer management </h1>
<div class="new">
<h3>Add a new customer</h3>
 <form asp-controller="Customer" asp-action="NewCustomer" method="post">
        <p class="error">@ViewData["error"]</p>
        <span class="error" asp-validation-for="Name"></span></br>
        <label asp-for="Name"></label><br><br>
        <input asp-for="Name"/></br>
        <button type="submit">Create</button>
    </form><br><br>
</div>
<div class="list-table">
<table>
    <tr>
        <th>Customer Name</th>
        <th>Created Date</th>
        <th>Action</th>
    </tr>
    @foreach(Customer customer in @ViewBag.customers)
    {
        <tr>
            <td>@customer.Name</td>
            @{string date=$"{@customer.CreatedAt:MMMM dd yyyy}";}
            <td>@date</td>
            <td>
                @{
                    string deleteurl=$"/customer/delete/{@customer.CustomerId}";
                    <a href=@deleteurl>Delete</a>
                }
            </td>
        </tr>
    }
</table>
</div>

